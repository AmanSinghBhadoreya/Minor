import os
import pandas as pd

# Folder path
DATA_DIR = "data"
os.makedirs(DATA_DIR, exist_ok=True)

# 1️⃣ Create loan_enquiries.csv
loan_file = os.path.join(DATA_DIR, "loan_enquiries.csv")
if not os.path.exists(loan_file):
    loan_columns = [
        "id", "timestamp", "user_email", "gender", "married", "education",
        "self_employed", "applicant_income", "coapplicant_income",
        "loan_amount", "loan_term", "interest_rate", "credit_history",
        "property_area", "property_value", "loan_status", "score",
        "confidence", "explanation"
    ]
    pd.DataFrame(columns=loan_columns).to_csv(loan_file, index=False)
    print(f"Created {loan_file}")
else:
    print(f"{loan_file} already exists.")

# 2️⃣ Create otps.csv
otp_file = os.path.join(DATA_DIR, "otps.csv")
if not os.path.exists(otp_file):
    otp_columns = ["email", "otp", "created_at"]
    pd.DataFrame(columns=otp_columns).to_csv(otp_file, index=False)
    print(f"Created {otp_file}")
else:
    print(f"{otp_file} already exists.")
